{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Akanaka/ShoppingCart/last/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/Akanaka/ShoppingCart/last/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ADD,MINUS,REMOVE}from\"./ActionName\";import axios from\"axios\";import ListItem from\"../Products/product\";var love=[];function productData(){axios.get(\"http://localhost:5000/product\").then(function(response){love=response.data;}).catch(function(error){console.log(error.message);});}productData();var intinitial={Product:ListItem,OnProcessing:[],AddProduct:false};var CartReducer=function CartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:intinitial;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD:var Item=state.Product.find(function(p){return p.id===action.payload.id;});var inCart=state.OnProcessing.find(function(p){return p.id===action.payload.id?true:false;});return _objectSpread(_objectSpread({},state),{},{OnProcessing:inCart?state.OnProcessing.map(function(p){return p.id===action.payload.id?_objectSpread(_objectSpread({},p),{},{quantity:p.quantity+1}):p;}):[].concat(_toConsumableArray(state.OnProcessing),[_objectSpread(_objectSpread({},Item),{},{quantity:1})]),AddProduct:true});case MINUS:return _objectSpread(_objectSpread({},state),{},{OnProcessing:state.OnProcessing.map(function(p){return p.id===action.payload.id?_objectSpread(_objectSpread({},p),{},{quantity:p.quantity===0?0:p.quantity-1}):p;})});case REMOVE:return _objectSpread(_objectSpread({},state),{},{OnProcessing:state.OnProcessing.filter(function(p){return p.id!==action.payload.id;})});default:return state;}};export default CartReducer;","map":{"version":3,"sources":["C:/Users/Akanaka/ShoppingCart/last/src/redux/reducer.js"],"names":["ADD","MINUS","REMOVE","axios","ListItem","love","productData","get","then","response","data","catch","error","console","log","message","intinitial","Product","OnProcessing","AddProduct","CartReducer","state","action","type","Item","find","p","id","payload","inCart","map","quantity","filter"],"mappings":"iPAAA,OAAQA,GAAR,CAAYC,KAAZ,CAAkBC,MAAlB,KAA+B,cAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,GAAIC,CAAAA,IAAI,CAAC,EAAT,CACC,QAASC,CAAAA,WAAT,EAAsB,CACrBH,KAAK,CACJI,GADD,CACK,+BADL,EAECC,IAFD,CAEM,SAACC,QAAD,CAAc,CAClBJ,IAAI,CAAEI,QAAQ,CAACC,IAAf,CAED,CALD,EAMCC,KAND,CAMO,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB,EACD,CARD,EASA,CAEDT,WAAW,GACZ,GAAMU,CAAAA,UAAU,CAAG,CAGjBC,OAAO,CAACb,QAHS,CAIjBc,YAAY,CAAE,EAJG,CAMjBC,UAAU,CAAC,KANM,CAAnB,CASA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAgC,IAA/BC,CAAAA,KAA+B,2DAAvBL,UAAuB,IAAXM,CAAAA,MAAW,2CAClD,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKvB,CAAAA,GAAL,CAEE,GAAMwB,CAAAA,IAAI,CAAGH,KAAK,CAACJ,OAAN,CAAcQ,IAAd,CAAmB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASL,MAAM,CAACM,OAAP,CAAeD,EAA/B,EAAnB,CAAb,CACA,GAAME,CAAAA,MAAM,CAAGR,KAAK,CAACH,YAAN,CAAmBO,IAAnB,CAAwB,SAACC,CAAD,QACrCA,CAAAA,CAAC,CAACC,EAAF,GAASL,MAAM,CAACM,OAAP,CAAeD,EAAxB,CAA6B,IAA7B,CAAoC,KADC,EAAxB,CAAf,CAGA,sCACKN,KADL,MAEEH,YAAY,CAAEW,MAAM,CAChBR,KAAK,CAACH,YAAN,CAAmBY,GAAnB,CAAuB,SAACJ,CAAD,QACvBA,CAAAA,CAAC,CAACC,EAAF,GAASL,MAAM,CAACM,OAAP,CAAeD,EAAxB,gCAAkCD,CAAlC,MAAqCK,QAAQ,CAAEL,CAAC,CAACK,QAAF,CAAa,CAA5D,GAAkEL,CAD3C,EAAvB,CADgB,8BAIZL,KAAK,CAACH,YAJM,kCAIaM,IAJb,MAImBO,QAAQ,CAAE,CAJ7B,IAFtB,CAMwDZ,UAAU,CAAC,IANnE,GAQF,IAAKlB,CAAAA,KAAL,CAEE,sCACKoB,KADL,MACYH,YAAY,CACpBG,KAAK,CAACH,YAAN,CAAmBY,GAAnB,CAAuB,SAACJ,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASL,MAAM,CAACM,OAAP,CAAeD,EAAxB,gCAAkCD,CAAlC,MAAqCK,QAAQ,CAAGL,CAAC,CAACK,QAAF,GAAa,CAAd,CAAiB,CAAjB,CAAmBL,CAAC,CAACK,QAAF,CAAW,CAA7E,GAAmFL,CAA1F,EAAvB,CAFJ,GAIA,IAAKxB,CAAAA,MAAL,CACE,sCACKmB,KADL,MACYH,YAAY,CAACG,KAAK,CAACH,YAAN,CAAmBc,MAAnB,CAA0B,SAACN,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASL,MAAM,CAACM,OAAP,CAAeD,EAA/B,EAA1B,CADzB,GAGJ,QAAS,MAAON,CAAAA,KAAP,CAzBX,CA2BD,CA5BD,CA6BA,cAAeD,CAAAA,WAAf","sourcesContent":["import {ADD,MINUS,REMOVE} from \"./ActionName\";\r\nimport axios from \"axios\";\r\nimport ListItem from \"../Products/product\";\r\nlet love=[];\r\n function productData(){\r\n  axios\r\n  .get(\"http://localhost:5000/product\")\r\n  .then((response) => {\r\n    love= response.data\r\n  \r\n  })\r\n  .catch((error) => {\r\n    console.log(error.message);\r\n  });\r\n }\r\n\r\n productData();\r\nconst intinitial = {\r\n\r\n\r\n  Product:ListItem ,\r\n  OnProcessing: []\r\n  ,\r\n  AddProduct:false,\r\n}\r\n\r\nconst CartReducer = (state = intinitial, action) => {\r\n  switch (action.type) {\r\n    case ADD:\r\n  \r\n      const Item = state.Product.find((p) => p.id === action.payload.id);\r\n      const inCart = state.OnProcessing.find((p) =>\r\n        p.id === action.payload.id ? true : false\r\n      );\r\n      return {\r\n        ...state,\r\n        OnProcessing: inCart\r\n          ? state.OnProcessing.map((p) =>\r\n            p.id === action.payload.id ? { ...p, quantity: p.quantity + 1 } : p\r\n          )\r\n          : [...state.OnProcessing, { ...Item, quantity: 1 }],AddProduct:true\r\n      };\r\n    case MINUS:\r\n\r\n      return {\r\n        ...state, OnProcessing:\r\n          state.OnProcessing.map((p) => p.id === action.payload.id ? { ...p, quantity: (p.quantity===0)?0:p.quantity-1 } : p)\r\n      }\r\n      case REMOVE:\r\n        return{\r\n          ...state, OnProcessing:state.OnProcessing.filter((p) => p.id !== action.payload.id)\r\n        }\r\n    default: return state;\r\n  }\r\n};\r\nexport default CartReducer;"]},"metadata":{},"sourceType":"module"}