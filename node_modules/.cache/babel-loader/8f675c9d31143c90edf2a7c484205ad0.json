{"ast":null,"code":"import { ADD, MINUS, REMOVE } from \"./ActionName\";\nimport axios from \"axios\";\nimport ListItem from \"../Products/product\";\n\nfunction productData() {\n  axios.get(\"http://localhost:5000/product\").then(response => {\n    return response.data;\n  }).catch(error => {\n    console.log(error.message);\n  });\n}\n\nconst intinitial = {\n  Product: productData(),\n  OnProcessing: [],\n  AddProduct: false\n};\n\nconst CartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : intinitial;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD:\n      const Item = state.Product.find(p => p.id === action.payload.id);\n      const inCart = state.OnProcessing.find(p => p.id === action.payload.id ? true : false);\n      return { ...state,\n        OnProcessing: inCart ? state.OnProcessing.map(p => p.id === action.payload.id ? { ...p,\n          quantity: p.quantity + 1\n        } : p) : [...state.OnProcessing, { ...Item,\n          quantity: 1\n        }],\n        AddProduct: true\n      };\n\n    case MINUS:\n      return { ...state,\n        OnProcessing: state.OnProcessing.map(p => p.id === action.payload.id ? { ...p,\n          quantity: p.quantity === 0 ? 0 : p.quantity - 1\n        } : p)\n      };\n\n    case REMOVE:\n      return { ...state,\n        OnProcessing: state.OnProcessing.filter(p => p.id !== action.payload.id)\n      };\n\n    default:\n      return state;\n  }\n};\n\n_c = CartReducer;\nexport default CartReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartReducer\");","map":{"version":3,"sources":["C:/Users/Akanaka/ShoppingCart/last/src/redux/reducer.js"],"names":["ADD","MINUS","REMOVE","axios","ListItem","productData","get","then","response","data","catch","error","console","log","message","intinitial","Product","OnProcessing","AddProduct","CartReducer","state","action","type","Item","find","p","id","payload","inCart","map","quantity","filter"],"mappings":"AAAA,SAAQA,GAAR,EAAYC,KAAZ,EAAkBC,MAAlB,QAA+B,cAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,qBAArB;;AACC,SAASC,WAAT,GAAsB;AACrBF,EAAAA,KAAK,CACJG,GADD,CACK,+BADL,EAECC,IAFD,CAEOC,QAAD,IAAc;AACpB,WAAOA,QAAQ,CAACC,IAAhB;AACC,GAJD,EAKCC,KALD,CAKQC,KAAD,IAAW;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AACD,GAPD;AAQA;;AACF,MAAMC,UAAU,GAAG;AAEjBC,EAAAA,OAAO,EAAEX,WAAW,EAFH;AAGjBY,EAAAA,YAAY,EAAE,EAHG;AAKjBC,EAAAA,UAAU,EAAC;AALM,CAAnB;;AAQA,MAAMC,WAAW,GAAG,YAAgC;AAAA,MAA/BC,KAA+B,uEAAvBL,UAAuB;AAAA,MAAXM,MAAW;;AAClD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKtB,GAAL;AACE,YAAMuB,IAAI,GAAGH,KAAK,CAACJ,OAAN,CAAcQ,IAAd,CAAoBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACM,OAAP,CAAeD,EAAlD,CAAb;AACA,YAAME,MAAM,GAAGR,KAAK,CAACH,YAAN,CAAmBO,IAAnB,CAAyBC,CAAD,IACrCA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACM,OAAP,CAAeD,EAAxB,GAA6B,IAA7B,GAAoC,KADvB,CAAf;AAGA,aAAO,EACL,GAAGN,KADE;AAELH,QAAAA,YAAY,EAAEW,MAAM,GAChBR,KAAK,CAACH,YAAN,CAAmBY,GAAnB,CAAwBJ,CAAD,IACvBA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACM,OAAP,CAAeD,EAAxB,GAA6B,EAAE,GAAGD,CAAL;AAAQK,UAAAA,QAAQ,EAAEL,CAAC,CAACK,QAAF,GAAa;AAA/B,SAA7B,GAAkEL,CADlE,CADgB,GAIhB,CAAC,GAAGL,KAAK,CAACH,YAAV,EAAwB,EAAE,GAAGM,IAAL;AAAWO,UAAAA,QAAQ,EAAE;AAArB,SAAxB,CANC;AAMiDZ,QAAAA,UAAU,EAAC;AAN5D,OAAP;;AAQF,SAAKjB,KAAL;AAEE,aAAO,EACL,GAAGmB,KADE;AACKH,QAAAA,YAAY,EACpBG,KAAK,CAACH,YAAN,CAAmBY,GAAnB,CAAwBJ,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACM,OAAP,CAAeD,EAAxB,GAA6B,EAAE,GAAGD,CAAL;AAAQK,UAAAA,QAAQ,EAAGL,CAAC,CAACK,QAAF,KAAa,CAAd,GAAiB,CAAjB,GAAmBL,CAAC,CAACK,QAAF,GAAW;AAAhD,SAA7B,GAAmFL,CAAjH;AAFG,OAAP;;AAIA,SAAKvB,MAAL;AACE,aAAM,EACJ,GAAGkB,KADC;AACMH,QAAAA,YAAY,EAACG,KAAK,CAACH,YAAN,CAAmBc,MAAnB,CAA2BN,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACM,OAAP,CAAeD,EAAzD;AADnB,OAAN;;AAGJ;AAAS,aAAON,KAAP;AAxBX;AA0BD,CA3BD;;KAAMD,W;AA4BN,eAAeA,WAAf","sourcesContent":["import {ADD,MINUS,REMOVE} from \"./ActionName\";\r\nimport axios from \"axios\";\r\nimport ListItem from \"../Products/product\";\r\n function productData(){\r\n  axios\r\n  .get(\"http://localhost:5000/product\")\r\n  .then((response) => {\r\n  return response.data;\r\n  })\r\n  .catch((error) => {\r\n    console.log(error.message);\r\n  });\r\n }\r\nconst intinitial = {\r\n\r\n  Product: productData(),\r\n  OnProcessing: []\r\n  ,\r\n  AddProduct:false,\r\n}\r\n\r\nconst CartReducer = (state = intinitial, action) => {\r\n  switch (action.type) {\r\n    case ADD:\r\n      const Item = state.Product.find((p) => p.id === action.payload.id);\r\n      const inCart = state.OnProcessing.find((p) =>\r\n        p.id === action.payload.id ? true : false\r\n      );\r\n      return {\r\n        ...state,\r\n        OnProcessing: inCart\r\n          ? state.OnProcessing.map((p) =>\r\n            p.id === action.payload.id ? { ...p, quantity: p.quantity + 1 } : p\r\n          )\r\n          : [...state.OnProcessing, { ...Item, quantity: 1 }],AddProduct:true\r\n      };\r\n    case MINUS:\r\n\r\n      return {\r\n        ...state, OnProcessing:\r\n          state.OnProcessing.map((p) => p.id === action.payload.id ? { ...p, quantity: (p.quantity===0)?0:p.quantity-1 } : p)\r\n      }\r\n      case REMOVE:\r\n        return{\r\n          ...state, OnProcessing:state.OnProcessing.filter((p) => p.id !== action.payload.id)\r\n        }\r\n    default: return state;\r\n  }\r\n};\r\nexport default CartReducer;"]},"metadata":{},"sourceType":"module"}