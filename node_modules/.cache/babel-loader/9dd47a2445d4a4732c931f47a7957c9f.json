{"ast":null,"code":"import { ADD, MINUS, REMOVE } from \"./ActionName\";\nimport axios from \"axios\";\nimport ListItem from \"../Products/product\";\nvar love = [];\n\nfunction productData() {\n  axios.get(\"http://localhost:5000/product\").then(response => {\n    love = response.data;\n  }).catch(error => {\n    console.log(error.message);\n  });\n}\n\nproductData();\nconst intinitial = {\n  OnProcessing: [],\n  AddProduct: false\n};\n\nconst CartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : intinitial;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD:\n      let Item = {};\n      axios.get(`http://localhost:5000/product/${action.payload.id_mg}`).then(response => {\n        Item = response.data[0];\n      }).catch(error => {\n        console.log(error.message);\n      });\n      const inCart = state.OnProcessing.find(p => p.id === action.payload.id ? true : false);\n      return { ...state,\n        OnProcessing: inCart ? state.OnProcessing.map(p => p.id === action.payload.id ? { ...p,\n          quantity: p.quantity + 1\n        } : p) : [...state.OnProcessing, { ...Item,\n          quantity: 1\n        }],\n        AddProduct: true\n      };\n\n    case MINUS:\n      return { ...state,\n        OnProcessing: state.OnProcessing.map(p => p.id === action.payload.id ? { ...p,\n          quantity: p.quantity === 0 ? 0 : p.quantity - 1\n        } : p)\n      };\n\n    case REMOVE:\n      return { ...state,\n        OnProcessing: state.OnProcessing.filter(p => p.id !== action.payload.id)\n      };\n\n    default:\n      return state;\n  }\n};\n\n_c = CartReducer;\nexport default CartReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartReducer\");","map":{"version":3,"sources":["C:/Users/Akanaka/ShoppingCart/last/src/redux/reducer.js"],"names":["ADD","MINUS","REMOVE","axios","ListItem","love","productData","get","then","response","data","catch","error","console","log","message","intinitial","OnProcessing","AddProduct","CartReducer","state","action","type","Item","payload","id_mg","inCart","find","p","id","map","quantity","filter"],"mappings":"AAAA,SAAQA,GAAR,EAAYC,KAAZ,EAAkBC,MAAlB,QAA+B,cAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,IAAIC,IAAI,GAAC,EAAT;;AACC,SAASC,WAAT,GAAsB;AACrBH,EAAAA,KAAK,CACJI,GADD,CACK,+BADL,EAECC,IAFD,CAEOC,QAAD,IAAc;AAClBJ,IAAAA,IAAI,GAAEI,QAAQ,CAACC,IAAf;AAGD,GAND,EAOCC,KAPD,CAOQC,KAAD,IAAW;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AACD,GATD;AAUA;;AAEDT,WAAW;AACZ,MAAMU,UAAU,GAAG;AAIjBC,EAAAA,YAAY,EAAE,EAJG;AAMjBC,EAAAA,UAAU,EAAC;AANM,CAAnB;;AASA,MAAMC,WAAW,GAAG,YAAgC;AAAA,MAA/BC,KAA+B,uEAAvBJ,UAAuB;AAAA,MAAXK,MAAW;;AAClD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKtB,GAAL;AACE,UAAIuB,IAAI,GAAC,EAAT;AACApB,MAAAA,KAAK,CACJI,GADD,CACM,iCAAgCc,MAAM,CAACG,OAAP,CAAeC,KAAM,EAD3D,EAECjB,IAFD,CAEOC,QAAD,IAAc;AACjBc,QAAAA,IAAI,GAACd,QAAQ,CAACC,IAAT,CAAc,CAAd,CAAL;AACF,OAJD,EAKCC,KALD,CAKQC,KAAD,IAAW;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AACD,OAPD;AASA,YAAMW,MAAM,GAAGN,KAAK,CAACH,YAAN,CAAmBU,IAAnB,CAAyBC,CAAD,IACrCA,CAAC,CAACC,EAAF,KAASR,MAAM,CAACG,OAAP,CAAeK,EAAxB,GAA6B,IAA7B,GAAoC,KADvB,CAAf;AAGA,aAAO,EACL,GAAGT,KADE;AAELH,QAAAA,YAAY,EAAES,MAAM,GAChBN,KAAK,CAACH,YAAN,CAAmBa,GAAnB,CAAwBF,CAAD,IACvBA,CAAC,CAACC,EAAF,KAASR,MAAM,CAACG,OAAP,CAAeK,EAAxB,GAA6B,EAAE,GAAGD,CAAL;AAAQG,UAAAA,QAAQ,EAAEH,CAAC,CAACG,QAAF,GAAa;AAA/B,SAA7B,GAAkEH,CADlE,CADgB,GAIhB,CAAC,GAAGR,KAAK,CAACH,YAAV,EAAwB,EAAE,GAAGM,IAAL;AAAWQ,UAAAA,QAAQ,EAAE;AAArB,SAAxB,CANC;AAMiDb,QAAAA,UAAU,EAAC;AAN5D,OAAP;;AAQF,SAAKjB,KAAL;AAEE,aAAO,EACL,GAAGmB,KADE;AACKH,QAAAA,YAAY,EACpBG,KAAK,CAACH,YAAN,CAAmBa,GAAnB,CAAwBF,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASR,MAAM,CAACG,OAAP,CAAeK,EAAxB,GAA6B,EAAE,GAAGD,CAAL;AAAQG,UAAAA,QAAQ,EAAGH,CAAC,CAACG,QAAF,KAAa,CAAd,GAAiB,CAAjB,GAAmBH,CAAC,CAACG,QAAF,GAAW;AAAhD,SAA7B,GAAmFH,CAAjH;AAFG,OAAP;;AAIA,SAAK1B,MAAL;AACE,aAAM,EACJ,GAAGkB,KADC;AACMH,QAAAA,YAAY,EAACG,KAAK,CAACH,YAAN,CAAmBe,MAAnB,CAA2BJ,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASR,MAAM,CAACG,OAAP,CAAeK,EAAzD;AADnB,OAAN;;AAGJ;AAAS,aAAOT,KAAP;AAjCX;AAmCD,CApCD;;KAAMD,W;AAqCN,eAAeA,WAAf","sourcesContent":["import {ADD,MINUS,REMOVE} from \"./ActionName\";\r\nimport axios from \"axios\";\r\nimport ListItem from \"../Products/product\";\r\nvar love=[];\r\n function productData(){\r\n  axios\r\n  .get(\"http://localhost:5000/product\")\r\n  .then((response) => {\r\n    love= response.data;\r\n  \r\n  \r\n  })\r\n  .catch((error) => {\r\n    console.log(error.message);\r\n  });\r\n }\r\n\r\n productData();\r\nconst intinitial = {\r\n\r\n\r\n\r\n  OnProcessing: []\r\n  ,\r\n  AddProduct:false,\r\n}\r\n\r\nconst CartReducer = (state = intinitial, action) => {\r\n  switch (action.type) {\r\n    case ADD:\r\n      let Item={};\r\n      axios\r\n      .get(`http://localhost:5000/product/${action.payload.id_mg}`)\r\n      .then((response) => {\r\n         Item=response.data[0];\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.message);\r\n      });\r\n    \r\n      const inCart = state.OnProcessing.find((p) =>\r\n        p.id === action.payload.id ? true : false\r\n      );\r\n      return {\r\n        ...state,\r\n        OnProcessing: inCart\r\n          ? state.OnProcessing.map((p) =>\r\n            p.id === action.payload.id ? { ...p, quantity: p.quantity + 1 } : p\r\n          )\r\n          : [...state.OnProcessing, { ...Item, quantity: 1 }],AddProduct:true\r\n      };\r\n    case MINUS:\r\n\r\n      return {\r\n        ...state, OnProcessing:\r\n          state.OnProcessing.map((p) => p.id === action.payload.id ? { ...p, quantity: (p.quantity===0)?0:p.quantity-1 } : p)\r\n      }\r\n      case REMOVE:\r\n        return{\r\n          ...state, OnProcessing:state.OnProcessing.filter((p) => p.id !== action.payload.id)\r\n        }\r\n    default: return state;\r\n  }\r\n};\r\nexport default CartReducer;"]},"metadata":{},"sourceType":"module"}